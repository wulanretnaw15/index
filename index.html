<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Startup Dashboard Widget</title>

<!-- Font Playfair Display (greeting) & Inter (cuaca & jam) -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Inter:wght@400;600&display=swap" rel="stylesheet">

<style>
  body {
    background-color: #f5f5f5;
    margin: 0;
    padding: 0;
  }

  .widget-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 24px;
    border: 1px solid #B0B0B0;
    border-radius: 12px;
    background-color: #f5f5f5;
    box-shadow: 0 4px 8px rgba(0,0,0,0.05);
    font-family: 'Inter', sans-serif;
    color: #0B1E39;
  }

  .greeting {
    font-family: 'Playfair Display', serif;
    font-size: 1.4rem;
    font-weight: 600;
  }

  .weather {
    display: flex;
    align-items: center;
    font-size: 1rem;
    gap: 8px;
  }

  .weather-icon {
    width: 28px;
    height: 28px;
  }

  .time {
    font-size: 1.4rem;
    font-weight: 600;
  }
</style>
</head>
<body>

<div class="widget-container">
  <div class="greeting" id="greetingText">Good Morning</div>
  <div class="weather">
    <img id="weatherIcon" class="weather-icon" src="" alt="">
    <span id="weatherText">Loading...</span>
  </div>
  <div class="time" id="timeDisplay">00:00 AM</div>
</div>

<script>
  // Update Greeting & Time
  function updateTimeAndGreeting() {
    const now = new Date();
    const hours = now.getHours();
    const minutes = now.getMinutes();
    const ampm = hours >= 12 ? 'PM' : 'AM';
    const displayHours = hours % 12 || 12;
    const displayMinutes = minutes < 10 ? '0' + minutes : minutes;
    document.getElementById('timeDisplay').textContent = 
      `${displayHours}:${displayMinutes} ${ampm}`;

    let greeting = '';
    if (hours >= 5 && hours < 12) {
      greeting = 'Good Morning';
    } else if (hours >= 12 && hours < 17) {
      greeting = 'Good Afternoon';
    } else if (hours >= 17 && hours < 21) {
      greeting = 'Good Evening';
    } else {
      greeting = 'Good Night';
    }
    document.getElementById('greetingText').textContent = greeting;
  }

  // Get Weather using OpenWeather API
  function fetchWeather(lat, lon) {
    const apiKey = 'YOUR_API_KEY_HERE'; // ganti dengan API Key kamu
    const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&appid=${apiKey}`;

    fetch(url)
      .then(response => response.json())
      .then(data => {
        const temp = Math.round(data.main.temp);
        const condition = data.weather[0].description;
        const icon = `https://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`;
        document.getElementById('weatherText').textContent = `${temp}Â°C, ${condition}`;
        document.getElementById('weatherIcon').src = icon;
      })
      .catch(() => {
        document.getElementById('weatherText').textContent = 'Weather unavailable';
      });
  }

  // Get user location
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(
      position => {
        fetchWeather(position.coords.latitude, position.coords.longitude);
      },
      () => {
        document.getElementById('weatherText').textContent = 'Location blocked';
      }
    );
  } else {
    document.getElementById('weatherText').textContent = 'No geolocation support';
  }

  // Init
  updateTimeAndGreeting();
  setInterval(updateTimeAndGreeting, 1000);
</script>

</body>
</html>

