<script>
  // Update Greeting & Time
  function updateTimeAndGreeting() {
    const now = new Date();
    const hours = now.getHours();
    const minutes = now.getMinutes();
    const ampm = hours >= 12 ? 'PM' : 'AM';
    const displayHours = hours % 12 || 12;
    const displayMinutes = minutes < 10 ? '0' + minutes : minutes;
    document.getElementById('timeDisplay').textContent = 
      `${displayHours}:${displayMinutes} ${ampm}`;

    let greeting = '';
    if (hours >= 5 && hours < 12) {
      greeting = 'Good Morning';
    } else if (hours >= 12 && hours < 17) {
      greeting = 'Good Afternoon';
    } else if (hours >= 17 && hours < 21) {
      greeting = 'Good Evening';
    } else {
      greeting = 'Good Night';
    }
    document.getElementById('greetingText').textContent = greeting;
  }

  // Get Weather using OpenWeather API (Fixed Sleman location)
  function fetchWeather(lat, lon) {
    const apiKey = 'YOUR_API_KEY_HERE'; // ganti dengan API Key kamu
    const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&appid=${apiKey}`;

    fetch(url)
      .then(response => response.json())
      .then(data => {
        const temp = Math.round(data.main.temp);
        const condition = data.weather[0].description;
        const icon = `https://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`;
        document.getElementById('weatherText').textContent = `${temp}Â°C, ${condition}`;
        document.getElementById('weatherIcon').src = icon;
      })
      .catch(() => {
        document.getElementById('weatherText').textContent = 'Weather unavailable';
      });
  }

  // Gunakan lokasi default Sleman
  fetchWeather(-7.732521, 110.402376);

  // Init
  updateTimeAndGreeting();
  setInterval(updateTimeAndGreeting, 1000);
</script>

